% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_get_data.R
\name{extract_model_data}
\alias{extract_model_data}
\alias{model_data}
\title{Extract model data}
\usage{
extract_model_data(x)

model_data(x)
}
\arguments{
\item{x}{An object of class \code{"glm"}, \code{"refitsmooth"}, or \code{"refitrestricted"}.}
}
\value{
A \code{data.frame} of class \code{"model_data"}, containing the cleaned model
data with additional attributes:
\itemize{
\item \code{rf} — names of risk factors in the model
\item \code{offweights} — weights or offsets if present
\item \code{mgd_rst}, \code{mgd_smt} — merged restrictions/smooths (refit objects only)
\item \code{new_nm}, \code{old_nm} — new and old column names (refit objects only)
}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

\code{extract_model_data()} retrieves underlying data from fitted models. It works
for objects of class \code{"glm"}, as well as objects produced by refitting
procedures (\code{"refitsmooth"} or \code{"refitrestricted"}).

The wrapper \code{\link[=model_data]{model_data()}} is deprecated as of version 0.7.6; please use
\code{\link[=extract_model_data]{extract_model_data()}} instead.
}
\details{
For GLM objects, the function:
\itemize{
\item returns the original data used in the model,
\item attaches attributes with the relevant rating factors and any weights/offsets.
}

For refit objects, the function:
\itemize{
\item strips out auxiliary columns used for smoothing/restrictions,
\item attaches attributes with information about rating factors, merged smooths,
restrictions, and offsets.
}
}
\examples{
\dontrun{
fit <- glm(cbind(y, n - y) ~ x, family = binomial(), data = df)
md <- extract_model_data(fit)
}

}
\author{
Martin Haringa
}
