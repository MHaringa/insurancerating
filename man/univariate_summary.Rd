% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/univariate.R
\name{univariate_summary}
\alias{univariate_summary}
\alias{univariate}
\title{Univariate analysis for discrete risk factors}
\usage{
univariate_summary(
  df,
  x,
  severity = NULL,
  nclaims = NULL,
  exposure = NULL,
  premium = NULL,
  by = NULL
)

univariate(
  df,
  x,
  severity = NULL,
  nclaims = NULL,
  exposure = NULL,
  premium = NULL,
  by = NULL
)
}
\arguments{
\item{df}{A \code{data.frame} with the insurance portfolio.}

\item{x}{Character vector: column(s) in \code{df} with the risk factor(s).}

\item{severity}{Character, column in \code{df} with claim amounts (default = NULL).}

\item{nclaims}{Character, column in \code{df} with number of claims (default = NULL).}

\item{exposure}{Character, column in \code{df} with exposures (default = NULL).}

\item{premium}{Character, column in \code{df} with premiums (default = NULL).}

\item{by}{Character vector of column(s) in \code{df} to group by in addition to \code{x}.}
}
\value{
A \code{data.table} of class \code{"univariate"} with summary statistics.
}
\description{
Performs a univariate analysis for discrete risk factors in an insurance
portfolio. The following summary statistics are calculated:
\itemize{
\item frequency = number of claims / exposure
\item average severity = severity / number of claims
\item risk premium = severity / exposure
\item loss ratio = severity / premium
\item average premium = premium / exposure
}

\code{\link[=univariate]{univariate()}} is deprecated as of version 0.7.6.
Please use \code{\link[=univariate_summary]{univariate_summary()}} instead with \strong{standard evaluation} (SE),
i.e. column names as character strings.
}
\details{
The function computes univariate statistics for discrete risk factors.
\itemize{
\item \strong{Frequency}: number of claims / exposure
\item \strong{Average severity}: severity / number of claims
\item \strong{Risk premium}: severity / exposure
\item \strong{Loss ratio}: severity / premium
\item \strong{Average premium}: premium / exposure
}

If one or more input arguments are not specified, the related statistics are
omitted from the results.
\subsection{Migration from \code{univariate()}}{

The function \code{\link[=univariate]{univariate()}} is deprecated as of version 0.7.6 and replaced by
\code{\link[=univariate_summary]{univariate_summary()}}. In addition to the name change, the interface has also
changed:
\itemize{
\item \code{univariate()} used \strong{non-standard evaluation (NSE)}, so column names could be
passed unquoted (e.g. \code{x = area}).
\item \code{univariate_summary()} uses \strong{standard evaluation (SE)}, so column names must
be passed as character strings (e.g. \code{x = "area"}).
}

This makes the function easier to use in programmatic workflows.

\code{univariate()} is still available for backward compatibility but will emit a
deprecation warning and will be removed in a future release.
}

This function supersedes \code{\link[=univariate]{univariate()}}, which relied on non-standard
evaluation (NSE). From version 0.7.6 onwards, you must supply column names
as \strong{strings} (SE), which makes the function easier to use in programmatic
workflows.
}
\examples{
## --- New usage (SE) ---
univariate_summary(MTPL2,
                   x = "area",
                   severity = "amount",
                   nclaims = "nclaims",
                   exposure = "exposure",
                   premium = "premium")

## --- Deprecated usage (NSE) ---
univariate(MTPL2,
           x = area,
           severity = amount,
           nclaims = nclaims,
           exposure = exposure,
           premium = premium)

}
\author{
Martin Haringa
}
