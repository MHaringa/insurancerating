% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_refinement.R
\name{update_smoothing}
\alias{update_smoothing}
\title{Update an existing smoothing curve}
\usage{
update_smoothing(
  model,
  x1,
  x2,
  overwrite_y1 = NULL,
  overwrite_y2 = NULL,
  knots_x = NULL,
  knots_y = NULL,
  allow_extrapolation = FALSE,
  extrapolation_break_size = NULL
)
}
\arguments{
\item{model}{A model object of class \code{"smooth"} or \code{"restricted"}, typically
returned by \code{\link[=add_smoothing]{add_smoothing()}} (possibly combined with
\code{\link[=add_restriction]{add_restriction()}}).}

\item{x1, x2}{Numeric. Start and end of the interval over which the smoothing
should be modified. Must satisfy \code{x1 < x2}.}

\item{overwrite_y1, overwrite_y2}{Optional numeric. Overrides for the smoothed
values at \code{x1} and \code{x2}. If \code{NULL}, existing smoothed values are used.}

\item{knots_x, knots_y}{Optional numeric vectors of equal length specifying
intermediate knot points through which the modified curve should pass.}

\item{allow_extrapolation}{Logical. If \code{TRUE}, the smoothing curve may be
extended beyond its original range. Setting \code{x1} or \code{x2} outside the
original range is only allowed when \code{allow_extrapolation = TRUE}; this
explicit flag acts as a safeguard against unintended extrapolation in
pricing models.}

\item{extrapolation_break_size}{Numeric scalar (> 0) or \code{NULL}. Width of
synthetic break intervals used to discretize the extrapolated part of the
smoothing curve. If \code{NULL}, it defaults to the median width of the existing
tariff breaks (scale-aware default).}
}
\value{
A modified object of class \code{"smooth"} with an updated smoothing curve for the
most recently smoothed risk factor.
}
\description{
\code{update_smoothing()} modifies the most recent smoothing created with
\code{\link[=add_smoothing]{add_smoothing()}} on a \code{"smooth"} or \code{"restricted"} object.

It retrieves the original continuous factor and the corresponding tariff
factor (i.e. \code{x_org} and \code{x_cut}) from the model object itself, so it must be
called \emph{after} at least one call to \code{\link[=add_smoothing]{add_smoothing()}}.
}
\author{
Rik Dommerholt, Martin Haringa
}
